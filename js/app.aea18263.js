(function(t){function e(e){for(var s,i,o=e[0],l=e[1],u=e[2],p=0,m=[];p<o.length;p++)i=o[p],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);c&&c(e);while(m.length)m.shift()();return n.push.apply(n,u||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(s=!1)}s&&(n.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},r={app:0},n=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/galago-test-task/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"2f80":function(t){t.exports=JSON.parse('{"users":[{"id":1,"registration":"20.08.2020","date":"11.03.1987","name":"Куклина Мария Ивановна","email":"kyklina@mail.ru","phone":"+79223625999","distance":5,"payment":500},{"id":2,"registration":"14.08.2020","date":"8.05.1997","name":"Мокрушина Галина Юрьевна","email":"mokrushina@mail.ru","phone":"+79881125999","distance":10,"payment":300},{"id":3,"registration":"12.09.2020","date":"24.01.1976","name":"Марина Сергеевна Заводская","email":"olga.zavodckaia@mail.ru","phone":"+79008011000","distance":3,"payment":1500}]}')},"390d":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("2d26"),a("96cf");var s=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"run-wrapper",attrs:{id:"app"}},[a("MainPage")],1)},n=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"run"},[a("div",{staticClass:"run__row"},[t._m(0),a("div",{staticClass:"run__col col__right"},[a("MainForm",{attrs:{"add-user":this.addUserInTable}})],1)]),a("h2",{directives:[{name:"show",rawName:"v-show",value:t.countUsers>0,expression:"countUsers > 0"}],staticClass:"run__title_h2"},[t._v(" С нами уже "+t._s(t._f("usersDeclension")(t.countUsers))+" ")]),a("div",{staticClass:"run_row run__row-table"},[a("MainUsersTable",{attrs:{users:t.usersForTable,"buttons-table":this.sortButtons,"sort-table":this.getSort}}),this.countUsers>this.usersPerPage?a("MainPagination",{attrs:{page:t.page,count:t.countUsers,perPage:t.usersPerPage,limit:t.limitPagination},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}):t._e()],1),t.isIE10?a("style",{tag:"component"},[t._v(" .headers__item { display: flex !important; justify-content: flex-start !important; align-items: center !important; } .row__item, .headers__item { width: 10% !important; } .header__btn-sort { padding: 0 11% 0 0 !important; } ")]):t._e()],1)},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"run__col col__left"},[s("h1",{staticClass:"run__title_h1"},[t._v(" Марафон в поддержку детей ")]),s("img",{staticClass:"run__title-img",attrs:{src:a("ca53"),alt:""}})])}],l=(a("4de4"),a("c975"),a("ac1f"),a("1276"),a("5530")),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"run__form-container"},[a("form",{staticClass:"run__form",on:{submit:function(e){return e.preventDefault(),t.sendForm(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.registration,expression:"formData.registration"}],staticClass:"hidden",attrs:{type:"hidden"},domProps:{value:t.formData.registration},on:{input:function(e){e.target.composing||t.$set(t.formData,"registration",e.target.value)}}}),a("div",{staticClass:"run__form-row"},[a("label",{staticClass:"form__label"},[a("span",{staticClass:"form__value"},[t._v(" ФИО ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.name,expression:"formData.name"}],staticClass:"form__input",attrs:{placeholder:"Ваше имя"},domProps:{value:t.formData.name},on:{input:function(e){e.target.composing||t.$set(t.formData,"name",e.target.value)}}})]),a("MainFormCalendar",{attrs:{title:"Дата рождения",placeholder:"11.03.1998"},model:{value:t.formData.date,callback:function(e){t.$set(t.formData,"date",e)},expression:"formData.date"}}),a("label",{staticClass:"form__label"},[a("span",{staticClass:"form__value"},[t._v(" Email ")]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.formError.email,expression:"formError.email"}],staticClass:"form__error"},[t._v("❌")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.email,expression:"formData.email"}],staticClass:"form__input",attrs:{placeholder:"Email"},domProps:{value:t.formData.email},on:{input:function(e){e.target.composing||t.$set(t.formData,"email",e.target.value)}}})])],1),a("div",{staticClass:"run__form-row"},[a("MainFormTelMask",{attrs:{error:t.formError.phone,title:"Телефон",placeholder:"Номер телефона"},on:{"update:error":function(e){return t.$set(t.formError,"phone",e)}},model:{value:t.formData.phone,callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}}),a("label",{staticClass:"form__label"},[a("span",{staticClass:"form__value"},[t._v(" Дистанция, км ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.distance,expression:"formData.distance"}],staticClass:"form__input form__select",attrs:{type:"number",min:"0",placeholder:"Выберите дистанцию"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.formData,"distance",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("Выберите дистанцию")]),a("option",{attrs:{value:"3"}},[t._v("3")]),a("option",{attrs:{value:"5"}},[t._v("5")]),a("option",{attrs:{value:"10"}},[t._v("10")])])]),a("label",{staticClass:"form__label"},[a("span",{staticClass:"form__value"},[t._v(" Сумма взноса, руб. ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.payment,expression:"formData.payment"}],staticClass:"form__input",attrs:{type:"number",min:"0",placeholder:"Сумма"},domProps:{value:t.formData.payment},on:{input:function(e){e.target.composing||t.$set(t.formData,"payment",e.target.value)}}})])],1),a("transition-group",{attrs:{name:"fade"}},[a("button",{key:1,staticClass:"form__submit",attrs:{disabled:t.buttonIsDisabled,type:"submit",name:"button"}},[t._v("Отправить заявку")]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.userAdded,expression:"userAdded"}],key:2,staticClass:"form__success"},[t._v(" Вы попали в список участников ✓ ")])])],1)])},c=[],p=(a("4160"),a("d81d"),a("b64b"),a("d3b7"),a("5319"),a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form__label"},[a("span",{staticClass:"form__value"},[t._v(t._s(t.title))]),a("DatePicker",{attrs:{"input-class":"form__input",placeholder:t.placeholder,language:t.ru,"disabled-dates":this.disabledDates,"open-date":this.openDate},model:{value:t.dataValue,callback:function(e){t.dataValue=e},expression:"dataValue"}})],1)}),m=[],d=a("fa33"),f=a("2430"),_={name:"BaseFormDate",props:["title","placeholder","value"],components:{DatePicker:d["a"]},data:function(){return{ru:f["ru"]}},computed:{inputValue:function(){return this.value?new Date(this.value).toLocaleDateString():""},disabledDates:function(){var t=new Date,e=t.setFullYear(t.getFullYear()-16),a=new Date(e);return{from:a}},openDate:function(){var t=this.disabledDates.from;return new Date(t)},dataValue:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}}},h=_,v=(a("5ad9"),a("2877")),g=Object(v["a"])(h,p,m,!1,null,null,null),b=g.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"form__label input__tel"},[a("span",{staticClass:"form__value"},[t._v(t._s(t.title))]),a("span",{directives:[{name:"show",rawName:"v-show",value:this.error,expression:"this.error"}],staticClass:"form__error"},[t._v("❌")]),a("input",{directives:[{name:"mask",rawName:"v-mask",value:t.telMask.mask,expression:"telMask.mask"},{name:"model",rawName:"v-model",value:t.dataValue,expression:"dataValue"}],staticClass:"form__input",attrs:{type:"tel",placeholder:t.placeholder},domProps:{value:t.dataValue},on:{focus:t.onFocus,blur:t.onBlur,input:function(e){e.target.composing||(t.dataValue=e.target.value)}}})])},w=[],D=a("3a60"),k=a("6abe"),y=a.n(k),P={name:"BaseFormTel",props:["title","placeholder","value","error"],directives:{mask:D["mask"]},data:function(){return{focus:!1,telMask:{id:"",mask:"+7 (###) ###-##-##",placeholder:"Номер телефона",pattern:/\d\d\d\d\d\d\d\d\d/}}},methods:{onFocus:function(){this.focus=!0},onBlur:function(){var t=y.a.PhoneNumberUtil.getInstance();this.focus=!1;var e=this.dataValue.replace(/\D*/g,""),a=t.isValidNumber(t.parse(e,"RU"));a?(this.$emit("input",e),this.$emit("update:error",!1)):(this.$emit("input",this.dataValue),this.$emit("update:error",!0))}},computed:{dataValue:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}}},x=P,O=(a("7b7c"),Object(v["a"])(x,C,w,!1,null,null,null)),j=O.exports,M=function(t){var e=/[A-Z0-9._%+-]+@[A-Z0-9-]+.\.[A-Z]{2,4}/gim;return!e.test(t)},U={data:function(){return{formData:{date:"",name:"",email:"",phone:"",distance:"",payment:""},formError:{},userAdded:!1}},props:["addUser"],components:{MainFormCalendar:b,MainFormTelMask:j},methods:{sendForm:function(){var t=this;if(!this.formError.email){var e=Object(l["a"])({},this.formData);e.phone="+".concat(e.phone.replace(/\D*/g,"")),e.registration=new Date,this.addUser(e);var a=new Promise((function(e){Object.keys(t.formData).forEach((function(e){t.formData[e]=""})),e()}));a.then((function(){t.userAdded=!0})),this.formError={}}},checkMailValid:function(){this.formError.email=M(this.formData.email)}},computed:{buttonIsDisabled:function(){var t=this.formDataItems.filter((function(t){return 0===t.length}));return Boolean(t.length||this.formError.email||this.formError.phone)},formDataItems:function(){var t=this;return Object.keys(this.formData).map((function(e){return t.formData[e]}))},formDataEmail:function(){return this.formData.email}},watch:{formDataEmail:function(){this.formData.email&&this.checkMailValid()},formDataItems:function(){this.userAdded=!1}}},S=U,E=(a("dd24"),Object(v["a"])(S,u,c,!1,null,null,null)),$=E.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"run__table"},[a("div",{staticClass:"table__headers"},t._l(t.buttonsTable,(function(e){return a("TableButton",{key:e.title,staticClass:"headers__item",attrs:{param:e,"sort-table":t.sortTable}})})),1),a("transition-group",{attrs:{name:"fade"}},t._l(t.users,(function(e){return a("div",{key:e.id,staticClass:"table__row"},[a("div",{staticClass:"row__item"},[t._v(" "+t._s(e.registration)+" ")]),a("div",{staticClass:"row__item"},[t._v(" "+t._s(e.name)+" ")]),a("div",{staticClass:"row__item"},[t._v(" "+t._s(e.date)+" ")]),a("div",{staticClass:"row__item"},[t._v(" "+t._s(e.email)+" ")]),a("div",{staticClass:"row__item"},[t._v(" "+t._s(e.phone)+" ")]),a("div",{staticClass:"row__item"},[t._v(" "+t._s(e.distance)+" ")]),a("div",{staticClass:"row__item"},[t._v(" "+t._s(e.payment)+" ")])])})),0)],1)},T=[],L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return this.sortId?a("button",{staticClass:"header__btn-sort",class:{smallest:this.isSmallest,largest:this.isLargest},attrs:{type:"button",name:"button"},on:{click:function(e){return e.preventDefault(),t.sortTable(t.sortId)}}},[t._v(" "+t._s(this.title)+" ")]):a("span",[t._v(" "+t._s(this.title)+" ")])},N=[],V={name:"MainUsersTableButton",props:["param","sortTable"],computed:{title:function(){return this.param.title},sortId:function(){return this.param.sortId},default:function(){return this.param.default},isSmallest:function(){return this.param.smallest},isLargest:function(){return this.param.largest}}},B=V,F=Object(v["a"])(B,L,N,!1,null,null,null),A=F.exports,Z={name:"MainUsersTable",props:["users","buttonsTable","sortTable"],components:{TableButton:A}},H=Z,J=(a("ff6d"),Object(v["a"])(H,I,T,!1,null,null,null)),z=J.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.pages>t.limit?a("ul",{staticClass:"pagination"},[a("li",{staticClass:"pagination__item"},[a("button",{class:{disabled:t.isClickablePrev},attrs:{type:"button","aria-label":"Предыдущая страница"},on:{click:function(e){return e.preventDefault(),t.prevPage(e)}}},[a("svg",{attrs:{width:"5",height:"8",viewBox:"0 0 5 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M0.646447 3.64645C0.451185 3.84171 0.451185 4.15829 0.646447 4.35355L3.82843\n    7.53553C4.02369 7.7308 4.34027 7.7308 4.53553 7.53553C4.7308 7.34027 4.7308 7.02369 4.53553\n    6.82843L1.70711 4L4.53553 1.17157C4.7308 0.976311 4.7308 0.659728 4.53553 0.464466C4.34027\n    0.269204 4.02369 0.269204 3.82843 0.464466L0.646447 3.64645ZM2 3.5H1V4.5H2V3.5Z",fill:"black"}})])])]),a("li",{staticClass:"pagination__item"},[a("button",{staticClass:"pagination__link",class:{pagination__link_current:1===t.page},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.paginate(1)}}},[t._v(" 1 ")])]),t._m(0),t._l(t.currentPageNears,(function(e){return a("li",{key:e,staticClass:"pagination__item"},[a("button",{staticClass:"pagination__link",class:{pagination__link_current:e===t.page},attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),t.paginate(e)}}},[t._v(" "+t._s(e)+" ")])])})),t._m(1),a("li",{staticClass:"pagination__item"},[a("button",{staticClass:"pagination__link",class:{pagination__link_current:t.pages===t.page},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.paginate(t.pages)}}},[t._v(" "+t._s(t.pages)+" ")])]),a("li",{staticClass:"pagination__item"},[a("button",{class:{"pagination__link--disabled":t.isClickableNext},attrs:{"aria-label":"Следующая страница"},on:{click:function(e){return e.preventDefault(),t.nextPage(e)}}},[a("svg",{attrs:{width:"5",height:"8",viewBox:"0 0 5 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M4.35355 3.64645C4.54882 3.84171 4.54882 4.15829 4.35355 4.35355L1.17157\n    7.53553C0.976311 7.7308 0.659728 7.7308 0.464466 7.53553C0.269204 7.34027 0.269204\n    7.02369 0.464466 6.82843L3.29289 4L0.464466 1.17157C0.269204 0.976311 0.269204 0.659728\n    0.464466 0.464466C0.659728 0.269204 0.976311 0.269204 1.17157 0.464466L4.35355 3.64645ZM3\n    3.5H4V4.5H3V3.5Z",fill:"black"}})])])])],2):a("ul",{staticClass:"pagination"},[a("li",{staticClass:"pagination__item"},[a("button",{class:{disabled:t.isClickablePrev},attrs:{type:"button","aria-label":"Предыдущая страница"},on:{click:function(e){return e.preventDefault(),t.prevPage(e)}}},[a("svg",{attrs:{width:"5",height:"8",viewBox:"0 0 5 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M0.646447 3.64645C0.451185 3.84171 0.451185 4.15829 0.646447 4.35355L3.82843\n      7.53553C4.02369 7.7308 4.34027 7.7308 4.53553 7.53553C4.7308 7.34027 4.7308 7.02369 4.53553\n      6.82843L1.70711 4L4.53553 1.17157C4.7308 0.976311 4.7308 0.659728 4.53553 0.464466C4.34027\n      0.269204 4.02369 0.269204 3.82843 0.464466L0.646447 3.64645ZM2 3.5H1V4.5H2V3.5Z",fill:"black"}})])])]),t._l(t.pages,(function(e){return a("li",{key:e,staticClass:"pagination__item"},[a("button",{staticClass:"pagination__link",class:{pagination__link_current:e===t.page},attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),t.paginate(e)}}},[t._v(" "+t._s(e)+" ")])])})),a("li",{staticClass:"pagination__item"},[a("button",{class:{"pagination__link--disabled":t.isClickableNext},attrs:{"aria-label":"Следующая страница"},on:{click:function(e){return e.preventDefault(),t.nextPage(e)}}},[a("svg",{attrs:{width:"5",height:"8",viewBox:"0 0 5 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M4.35355 3.64645C4.54882 3.84171 4.54882 4.15829 4.35355 4.35355L1.17157\n      7.53553C0.976311 7.7308 0.659728 7.7308 0.464466 7.53553C0.269204 7.34027 0.269204\n      7.02369 0.464466 6.82843L3.29289 4L0.464466 1.17157C0.269204 0.976311 0.269204 0.659728\n      0.464466 0.464466C0.659728 0.269204 0.976311 0.269204 1.17157 0.464466L4.35355 3.64645ZM3\n      3.5H4V4.5H3V3.5Z",fill:"black"}})])])])],2)},R=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"pagination__item"},[a("span",{staticClass:"pagination__link"},[t._v(" ... ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"pagination__item"},[a("span",{staticClass:"pagination__link"},[t._v(" ... ")])])}],q={model:{prop:"page",event:"paginate"},props:["page","count","perPage","limit"],computed:{pages:function(){return Math.ceil(this.count/this.perPage)},currentPageNears:function(){if(this.page>1&&this.page<this.pages){var t=[],e=this.page-1,a=this.page,s=this.page+1;return a>1&&a<this.pages&&t.push(a),e>1&&s<this.pages?(t.unshift(e),t.push(s)):e>1?(t.unshift(e),t.unshift(e-1)):(t.push(s),t.push(s+1)),t}var r=Math.ceil(this.pages/2);return[r-1,r,r+1]},isClickablePrev:function(){return!this.count||1===this.page},isClickableNext:function(){return!this.count||this.page===this.pages}},methods:{paginate:function(t){this.$emit("paginate",t)},prevPage:function(){this.isClickablePrev||this.$emit("paginate",this.page-1)},nextPage:function(){this.isClickableNext||this.$emit("paginate",this.page+1)}}},G=q,K=(a("7379"),Object(v["a"])(G,Y,R,!1,null,null,null)),Q=K.exports,W=a("2f62"),X=(a("99af"),function(t){var e=[2,0,1,1,1,2],a=["участник","участника","участников"][t%100>4&&t%100<20?2:e[t%10<5?t%10:5]];return"".concat(t," ").concat(a)}),tt={name:"MainPage",data:function(){return{page:1,usersPerPage:4,limitPagination:10}},filters:{usersDeclension:X},methods:Object(l["a"])(Object(l["a"])({},Object(W["b"])(["addUser","updateSort","sortUsers","loadUsersFromStorage"])),{},{getSort:function(t){this.sortUsers(t),this.page=1},addUserInTable:function(t){this.addUser(t),this.updateSort(),this.page=1},updateUsersPerPage:function(){var t=window.innerHeight;switch(!0){case t<=740:this.usersPerPage=3;break;default:this.usersPerPage=4;break}}}),computed:Object(l["a"])(Object(l["a"])({},Object(W["c"])(["users","sortButtons"])),{},{isIE10:function(){try{var t=navigator.userAgent,e=/MSIE ([^;]*)/,a=e.exec(t)[1].split(".")[0];return 10===+a}catch(s){return!1}},totalUsers:function(){return this.users.length},countUsers:function(){return this.users?this.totalUsers:0},usersForTable:function(){var t=this,e=this.usersPerPage*this.page,a=e-this.usersPerPage;return this.users.filter((function(s){return t.users.indexOf(s)<e&&t.users.indexOf(s)>=a}))}}),components:{MainUsersTable:z,MainForm:$,MainPagination:Q},created:function(){this.loadUsersFromStorage(),this.updateSort(),this.updateUsersPerPage(),window.addEventListener("resize",this.updateUsersPerPage)}},et=tt,at=(a("d397"),Object(v["a"])(et,i,o,!1,null,null,null)),st=at.exports,rt={name:"App",components:{MainPage:st}},nt=rt,it=(a("89f2"),Object(v["a"])(nt,r,n,!1,null,null,null)),ot=it.exports,lt=(a("7db0"),a("2909")),ut=a("2f80");s["a"].use(W["a"]);var ct=new W["a"].Store({state:{users:ut.users,sortButtons:[{title:"Дата регистрации",sortId:"registration",smallest:!0,largest:!1},{title:"ФИО"},{title:"Дата рождения",sortId:"date",smallest:!1,largest:!1},{title:"Email"},{title:"Телефон"},{title:"Дистанция, км",sortId:"distance",smallest:!1,largest:!1},{title:"Сумма взноса, руб.",sortId:"payment",smallest:!1,largest:!1}]},mutations:{addUser:function(t,e){t.users=e},sortUsers:function(t,e){var a=e.upd,s=e.id,r=e.sortTo,n=function(){var e=t.users.sort((function(t,e){return t[s]-e[s]}));r&&e.reverse(),t.sortButtons=a,t.users=e},i=function(){var e=t.users.sort((function(t,e){var a=t[s].split("."),r=e[s].split(".");return a=+a[0]+100*+a[1]+1e3*+a[2],r=+r[0]+100*+r[1]+1e3*+r[2],a-r}));r&&e.reverse(),t.sortButtons=a,t.users=e};switch(s){case"date":case"registration":i();break;default:n();break}}},actions:{loadUsersFromStorage:function(t){var e=JSON.parse(localStorage.getItem("charity-run-app"));if(e){e=e.map((function(t){return Object(l["a"])(Object(l["a"])({},t),{},{date:new Date(t.date).toLocaleDateString(),registration:new Date(t.registration).toLocaleDateString()})}));var a=[].concat(Object(lt["a"])(t.state.users),Object(lt["a"])(e));t.commit("addUser",a)}},addUser:function(t,e){var a=t.state.users.length+1,s=[].concat(Object(lt["a"])(t.state.users),[Object(l["a"])(Object(l["a"])({},e),{},{id:a,date:new Date(e.date).toLocaleDateString(),registration:new Date(e.registration).toLocaleDateString()})]);t.commit("addUser",s);var r=JSON.parse(localStorage.getItem("charity-run-app"));if(r){var n=[].concat(Object(lt["a"])(r),[Object(l["a"])(Object(l["a"])({},e),{},{id:"by-user".concat(a)})]);localStorage.setItem("charity-run-app",JSON.stringify(n))}else localStorage.setItem("charity-run-app",JSON.stringify([Object(l["a"])(Object(l["a"])({},e),{},{id:"by-user".concat(a)})]))},updateSort:function(t){var e=t.state.sortButtons,a=e.find((function(t){return!0===t.smallest||!0===t.largest})),s=a.sortId,r=!a.smallest;t.commit("sortUsers",{upd:e,id:s,sortTo:r})},sortUsers:function(t,e){var a=t.state.sortButtons.find((function(t){return t.sortId===e}));a.smallest?(a.smallest=!1,a.largest=!0):(a.smallest=!0,a.largest=!1);var s=t.state.sortButtons.map((function(t){return t.sortId===e?a:Object(l["a"])(Object(l["a"])({},t),{},{smallest:!1,largest:!1})})),r=!a.smallest;t.commit("sortUsers",{upd:s,id:e,sortTo:r})}}});s["a"].config.productionTip=!1,new s["a"]({store:ct,render:function(t){return t(ot)}}).$mount("#app")},"5ad9":function(t,e,a){"use strict";var s=a("6387"),r=a.n(s);r.a},6387:function(t,e,a){},7379:function(t,e,a){"use strict";var s=a("80a8"),r=a.n(s);r.a},"7b7c":function(t,e,a){"use strict";var s=a("e31f"),r=a.n(s);r.a},"80a8":function(t,e,a){},"89f2":function(t,e,a){"use strict";var s=a("c9d2"),r=a.n(s);r.a},c9d2:function(t,e,a){},ca53:function(t,e,a){t.exports=a.p+"img/runners.e8801d57.png"},d229:function(t,e,a){},d397:function(t,e,a){"use strict";var s=a("390d"),r=a.n(s);r.a},dd24:function(t,e,a){"use strict";var s=a("f8ec"),r=a.n(s);r.a},e31f:function(t,e,a){},f8ec:function(t,e,a){},ff6d:function(t,e,a){"use strict";var s=a("d229"),r=a.n(s);r.a}});
//# sourceMappingURL=app.aea18263.js.map